(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=s(e);fetch(e.href,r)}})();function k(t){const i={p:"p",b:"b",t:"t",d:"d",k:"k",g:"g",f:"f",v:"v",θ:"f",ð:"c",s:"s",z:"z",ʃ:"x",ʒ:"x",h:"h",m:"m",n:"n",ŋ:"q",l:"l",ɹ:"r",j:"j",w:"w",i:"y",ɪ:"y",e:"e",ɛ:"e",æ:"a",ʌ:"a",ɑ:"o",ɔ:"o",u:"u",ʊ:"u",ə:"u",ŏ:"w"};return t.split("").map(o=>i[o]||o).join("")}const q={are:"ar",you:"yw",your:"yr",those:"cuwz",these:"cyz",this:"cis",that:"cot",of:"uv",off:"of",important:"impuwrtunt",to:"tu",note:"nuwt",engli:"eqly",is:"iz",more:"muwr",than:"can",just:"just",new:"nw",phonetic:"funetik",rules:"rwlz",we:"wy",also:"olsuw",change:"txeynj",words:"wurdz",add:"ad",ones:"wonz",etc:"ets",everyone:"evrywun",asour:"eysawr",woke:"wuwk",up:"up",in:"in",a:"u",tree:"try",with:"wif",his:"hiz",family:"family",dead:"ded",decided:"desayded",end:"end",programming:"pruwgramiq",career:"karyr",after:"aftur",become:"bykum",mime:"maym",was:"wuz",real:"ryl",as:"az",my:"may",laughing:"lofiq",community:"kumywnity",because:"bikuz",he:"hy",she:"xy",fork:"fuwrk",english:"eqlix",language:"leyqgwaj","that's":"cats",why:"way",it:"it",called:"kawld",ass:"as",better:"betr",so:"suw",cool:"kwl",said:"sed",benefits:"benifits",among:"umuq",other:"udr",others:"udrz",collisions:"kulijunz",collision:"kulijun",no:"nuw",word:"wurd",will:"wil",sound:"sawnd",sounds:"sawndz",identical:"identikul",identically:"identikuly",identicaly:"identikuly",multiple:"multipul",meanings:"myniqz",meaning:"myniq",mean:"myn",same:"seym",different:"difrent",differ:"difr",too:"tw",much:"mutx",be:"by",split:"split",into:"intw",two:"tuw",or:"uwr",phonetically:"funetikuly",similar:"similr",similarly:"similrly",rigid:"rijid",each:"ytx",letter:"letr",only:"uwnly",one:"wun",has:"haz",and:"ond",the:"ce",letters:"letrz",surrounding:"surawndiq",have:"hav",impact:"impakt",on:"on",how:"how",ambiguous:"ambigywus",ambiguity:"ambigwity",there:"cer",way:"wey",together:"tugecr",any:"eny",spell:"spel",spelling:"speliq",surroundings:"surawndiqz",pronounce:"pruwnowns",pronunciation:"pruwnownsieyxun",pronunciations:"pruwnownsieyxunz",pronounced:"pruwnownsd","community-driven":"kumywnity-drivn",driven:"drivn",drives:"drayvz",drive:"drayv",driving:"driviq",syntax:"sintaks",by:"bay",vote:"vuwt",votes:"vuwts",voted:"vuwtid",voting:"vuwtiq",inconsistent:"inkuwnsistent",inconsistently:"inkuwnsistently",inconsistency:"inkuwnsistensi",prefixes:"pryfiksiz",prefix:"pryfiks",suffixes:"sufiksiz",suffix:"sufiks",stay:"stey",separate:"seprut",separately:"seprutly",from:"frum",like:"layk",multiplayer:"multy-pleyr","multi-player":"multy-pleyr",multi:"multy",player:"pleyr",singleplayer:"singl-pleyr","single-player":"singl-pleyr",instead:"insted",divide:"divoyd",between:"bitwyn",center:"sentr",centre:"sentr",centered:"sentrd",centred:"sentrd",centering:"sentriq",sentr:"sentr",used:"ywzd",faster:"fastr",type:"tayp",most:"muwst",shorter:"xuwrtr",which:"witx",allows:"ulawz",builds:"bildz",build:"bild",building:"bildiq",upon:"upon",all:"ol","it's":"it's",idioms:"idiumz",expressions:"eksprexunz",expression:"eksprexun",but:"but",makes:"meyks",changes:"txeynjz",improve:"imprwv",improves:"imprwvz",many:"meny",flaws:"flowz",flaw:"flow",flawed:"flowd",flawless:"flowles",aim:"aym",easier:"yzyur",easiest:"yzyest",easily:"yzyly",use:"ywz","type/speak":"tayp/spyk",speak:"spyk",learn:"lurn",international:"intrnoxunul",its:"its",make:"meyk",what:"wut",true:"trw",pure:"pywr"};function C(t){return t===t.toLowerCase()?0:t===t.toUpperCase()?1:t[0]===t[0].toUpperCase()&&t.slice(1)===t.slice(1).toLowerCase()?2:0}function T(t){const i=t.split(" ");for(const s of i){let o=s;if(o=o.replace(/^\W+/,"").replace(/\W+$/,"").toLowerCase(),o.trim()!==""&&isNaN(o)&&q[o]===void 0)return!1}return!0}async function b(t){const i=t.split(" "),s=await Promise.all(i.map(async e=>{var g,h;const r=((g=e.match(/^\W+/))==null?void 0:g[0])||"",c=((h=e.match(/\W+$/))==null?void 0:h[0])||"";e=e.replace(/^\W+/,"").replace(/\W+$/,"");const m=C(e);if(e=e.toLowerCase(),e===""||!isNaN(Number(e)))return{engli:e,confidence:1};let n=q[e],w=1;if(n===void 0){w=0;const l=await(await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${e}`)).json();if(l.length===0||l.length===void 0)n=e;else if(l[0].phonetic)console.log("using phonetic",l[0].phonetic),n=k(l[0].phonetic.replaceAll("/",""));else{const v=l[0].phonetics;if(v.length===0)n=e;else{const z=v.find(y=>y.text);if(z===void 0)n=e;else{const y=z.text.replaceAll("/","");console.log("using phonetic",y),n=k(y)}}}}return m===1?n=n.toUpperCase():m===2&&(n=n[0].toUpperCase()+n.slice(1).toLowerCase()),n=r+n+c,n=n.replace(/(.)\1+/g,"$1"),n=n.replace(/ˈ/g,"").replace(/'/g,""),n=n.replace(/ː/g,""),n=n.replace(/:/g,""),{engli:n,confidence:w}}));return{engli:s.map(e=>e.engli).join(" "),confidence:s.reduce((e,r)=>e+r.confidence,0)/s.length}}const a=document.querySelector("#input"),p=document.querySelector("#output"),u=document.querySelector("#confidence"),j=document.querySelector("#input-chars"),L=document.querySelector("#output-chars");let d;function x(t){let i="#84d35980",s="This is a fully accurate translation.";t<.5?(i="#ff4a4a80",s="This is a very inaccurate translation."):t<=.75?(i="#d3a52f80",s="This is a somewhat inaccurate translation."):t<1&&(i="#c3d33380",s="This is a good but imperfect translation."),s+=`
(${Math.round(t*100)}% confidence)`,s+=`
<progress value="${t}" max="1"></progress>`,u.style.outlineColor=i,u.innerHTML=s}function f(){j.innerHTML=a.value.length.toString(),L.innerHTML=p.value.length.toString()}a.addEventListener("input",async()=>{if(d!==void 0&&clearTimeout(d),a.value.trim()===""){p.value="",u.innerHTML="",u.style.outlineColor="transparent",f();return}if(T(a.value)){let i=await b(a.value);p.value=i.engli,x(i.confidence),f()}else p.value="...",u.innerHTML="",u.style.outlineColor="transparent",L.innerHTML="...",d=setTimeout(async()=>{let i=await b(a.value);p.value=i.engli,x(i.confidence),f()},500)});
