(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();function L(t){const n={p:"p",b:"b",t:"t",d:"d",k:"k",g:"g",f:"f",v:"v",θ:"d",ð:"d",s:"s",z:"z",ʃ:"x",ʒ:"x",h:"h",m:"m",n:"n",ŋ:"q",l:"l",ɹ:"r",j:"j",w:"w",i:"y",ɪ:"y",e:"e",ɛ:"e",æ:"a",ʌ:"a",ɑ:"o",ɔ:"o",u:"u",ʊ:"u",ə:"u",ŏ:"w"};return t.split("").map(r=>n[r]||r).join("")}const T={are:"ar",you:"yw",your:"yr",those:"duwz",these:"dyz",this:"dis",that:"dot",of:"uv",off:"of",important:"impuwrtunt",to:"tu",note:"nuwt",engli:"eqly",is:"iz",more:"muwr",than:"dan",just:"just",new:"nw",phonetic:"funetik",rules:"rwlz",we:"wy",also:"olsuw",change:"ceynj",words:"wuwrdz",add:"ad",ones:"wonz",etc:"ets",everyone:"evrywun",asour:"eysawr",woke:"wuwk",up:"up",in:"in",a:"u",tree:"try",with:"wif",his:"hiz",family:"family",dead:"ded",decided:"desayded",end:"end",programming:"pruwgramiq",career:"karyr",after:"aftur",become:"bykum",mime:"maym",was:"wuz",real:"ryl"};function j(t){return t===t.toLowerCase()?0:t===t.toUpperCase()?1:t[0]===t[0].toUpperCase()&&t.slice(1)===t.slice(1).toLowerCase()?2:0}function x(t){const n=t.split(" ");for(const s of n){let r=s;if(r=r.replace(/^\W+/,"").replace(/\W+$/,"").toLowerCase(),T[r]===void 0)return!1}return!0}async function z(t){const n=t.split(" "),s=await Promise.all(n.map(async e=>{var m,h;const o=((m=e.match(/^\W+/))==null?void 0:m[0])||"",c=((h=e.match(/\W+$/))==null?void 0:h[0])||"";e=e.replace(/^\W+/,"").replace(/\W+$/,"");const g=j(e);e=e.toLowerCase();let i=T[e],y=1;if(i===void 0){y=0;const a=await(await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${e}`)).json();if(a.length===0||a.length===void 0)i=e;else if(a[0].phonetic)console.log("using phonetic",a[0].phonetic),i=L(a[0].phonetic.replaceAll("/",""));else{const w=a[0].phonetics;if(w.length===0)i=e;else{const v=w.find(u=>u.text);if(v===void 0)i=e;else{const u=v.text.replaceAll("/","");console.log("using phonetic",u),i=L(u)}}}}return g===1?i=i.toUpperCase():g===2&&(i=i[0].toUpperCase()+i.slice(1).toLowerCase()),i=o+i+c,i=i.replace(/(.)\1+/g,"$1"),i=i.replace(/ˈ/g,"").replace(/'/g,""),{engli:i,confidence:y}}));return{engli:s.map(e=>e.engli).join(" "),confidence:s.reduce((e,o)=>e+o.confidence,0)/s.length}}const l=document.querySelector("#input"),f=document.querySelector("#output"),p=document.querySelector("#confidence");let d;function C(t){let n="#84d35980",s="This is a fully accurate translation.";t<.5?(n="#ff4a4a80",s="This is a very inaccurate translation."):t<.75&&(n="#d3a52f80",s="This is a somewhat inaccurate translation."),s+=`
(${Math.round(t*100)}% confidence)`,s+=`
<progress value="${t}" max="1"></progress>`,p.style.outlineColor=n,p.innerHTML=s}l.addEventListener("input",async()=>{if(d!==void 0&&clearTimeout(d),l.value.trim()===""){f.value="",p.innerHTML="",p.style.outlineColor="transparent";return}if(x(l.value)){let n=await z(l.value);f.value=n.engli,C(n.confidence)}else f.value="...",d=setTimeout(async()=>{let n=await z(l.value);f.value=n.engli,C(n.confidence)},500)});
